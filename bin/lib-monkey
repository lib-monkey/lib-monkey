#!/usr/bin/env node

'use strict';

var pkg = require('../package.json');
var program = require('commander');
var spawn = require('child_process').spawn;
var colors = require('colors/safe');


program
  .version(pkg.version)
  .usage('[options] <cmd>')
  .option('--no-art', 'Don\'t print the monkey')
  .option('-s, --seed <n>', 'Seed', parseInt)
  .action(function(cmd){

    if(program.seed){
      process.env.LIB_MONKEY_SEED = program.seed;
    }

    if(!program.art) {
      process.env.LIB_MONKEY_ART = 0;
    }

    let exec_index = process.argv.indexOf(cmd);

    if(exec_index !== -1){
      let command = process.argv.splice(exec_index);
      spawn(command[0], command.splice(1), { shell: true, stdio: "inherit" });
    }
  })
  .parse(process.argv);
